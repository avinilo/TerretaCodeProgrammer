import{r as j}from"./components-Bw8-jeb5.js";let c=[],F=(t,e)=>{let r=[],n={get(){return n.lc||n.listen(()=>{})(),n.value},l:e||0,lc:0,listen(o,s){return n.lc=r.push(o,s||n.l)/2,()=>{let i=r.indexOf(o);~i&&(r.splice(i,2),--n.lc||n.off())}},notify(o,s){let i=!c.length;for(let l=0;l<r.length;l+=2)c.push(r[l],r[l+1],n.value,o,s);if(i){for(let l=0;l<c.length;l+=5){let u;for(let d=l+1;!u&&(d+=5)<c.length;)c[d]<c[l+1]&&(u=c.push(c[l],c[l+1],c[l+2],c[l+3],c[l+4]));u||c[l](c[l+2],c[l+3],c[l+4])}c.length=0}},off(){},set(o){let s=n.value;s!==o&&(n.value=o,n.notify(s))},subscribe(o,s){let i=n.listen(o,s);return o(n.value),i},value:t};return n};function V(t,e,r){let n=new Set([...e,void 0]);return t.listen((o,s,i)=>{n.has(i)&&r(o,s,i)})}let X=(t={})=>{let e=F(t);return e.setKey=function(r,n){let o=e.value;typeof n>"u"&&r in e.value?(e.value={...e.value},delete e.value[r],e.notify(o,r)):e.value[r]!==n&&(e.value={...e.value,[r]:n},e.notify(o,r))},e};function pe(t,e={}){let r=j.useCallback(o=>e.keys?V(t,e.keys,o):t.listen(o),[e.keys,t]),n=t.get.bind(t);return j.useSyncExternalStore(r,n,n)}/*! js-cookie v3.0.5 | MIT */function w(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t}var Q={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function T(t,e){function r(o,s,i){if(!(typeof document>"u")){i=w({},e,i),typeof i.expires=="number"&&(i.expires=new Date(Date.now()+i.expires*864e5)),i.expires&&(i.expires=i.expires.toUTCString()),o=encodeURIComponent(o).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var l="";for(var u in i)i[u]&&(l+="; "+u,i[u]!==!0&&(l+="="+i[u].split(";")[0]));return document.cookie=o+"="+t.write(s,o)+l}}function n(o){if(!(typeof document>"u"||arguments.length&&!o)){for(var s=document.cookie?document.cookie.split("; "):[],i={},l=0;l<s.length;l++){var u=s[l].split("="),d=u.slice(1).join("=");try{var h=decodeURIComponent(u[0]);if(i[h]=t.read(d,h),o===h)break}catch{}}return o?i[o]:i}}return Object.create({set:r,get:n,remove:function(o,s){r(o,"",w({},s,{expires:-1}))},withAttributes:function(o){return T(this.converter,w({},this.attributes,o))},withConverter:function(o){return T(w({},this.converter,o),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var $=T(Q,{path:"/"});const O=10,k=(t=0)=>e=>`\x1B[${e+t}m`,M=(t=0)=>e=>`\x1B[${38+t};5;${e}m`,E=(t=0)=>(e,r,n)=>`\x1B[${38+t};2;${e};${r};${n}m`,a={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};Object.keys(a.modifier);const Z=Object.keys(a.color),ee=Object.keys(a.bgColor);[...Z,...ee];function te(){const t=new Map;for(const[e,r]of Object.entries(a)){for(const[n,o]of Object.entries(r))a[n]={open:`\x1B[${o[0]}m`,close:`\x1B[${o[1]}m`},r[n]=a[n],t.set(o[0],o[1]);Object.defineProperty(a,e,{value:r,enumerable:!1})}return Object.defineProperty(a,"codes",{value:t,enumerable:!1}),a.color.close="\x1B[39m",a.bgColor.close="\x1B[49m",a.color.ansi=k(),a.color.ansi256=M(),a.color.ansi16m=E(),a.bgColor.ansi=k(O),a.bgColor.ansi256=M(O),a.bgColor.ansi16m=E(O),Object.defineProperties(a,{rgbToAnsi256:{value(e,r,n){return e===r&&r===n?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)},enumerable:!1},hexToRgb:{value(e){const r=/[a-f\d]{6}|[a-f\d]{3}/i.exec(e.toString(16));if(!r)return[0,0,0];let[n]=r;n.length===3&&(n=[...n].map(s=>s+s).join(""));const o=Number.parseInt(n,16);return[o>>16&255,o>>8&255,o&255]},enumerable:!1},hexToAnsi256:{value:e=>a.rgbToAnsi256(...a.hexToRgb(e)),enumerable:!1},ansi256ToAnsi:{value(e){if(e<8)return 30+e;if(e<16)return 90+(e-8);let r,n,o;if(e>=232)r=((e-232)*10+8)/255,n=r,o=r;else{e-=16;const l=e%36;r=Math.floor(e/36)/5,n=Math.floor(l/6)/5,o=l%6/5}const s=Math.max(r,n,o)*2;if(s===0)return 30;let i=30+(Math.round(o)<<2|Math.round(n)<<1|Math.round(r));return s===2&&(i+=60),i},enumerable:!1},rgbToAnsi:{value:(e,r,n)=>a.ansi256ToAnsi(a.rgbToAnsi256(e,r,n)),enumerable:!1},hexToAnsi:{value:e=>a.ansi256ToAnsi(a.hexToAnsi256(e)),enumerable:!1}}),a}const g=te(),L=(()=>{if(!("navigator"in globalThis))return 0;if(globalThis.navigator.userAgentData){const t=navigator.userAgentData.brands.find(({brand:e})=>e==="Chromium");if(t&&t.version>93)return 3}return/\b(Chrome|Chromium)\//.test(globalThis.navigator.userAgent)?1:0})(),I=L!==0&&{level:L,hasBasic:!0,has256:L>=2,has16m:L>=3},re={stdout:I,stderr:I};function ne(t,e,r){let n=t.indexOf(e);if(n===-1)return t;const o=e.length;let s=0,i="";do i+=t.slice(s,n)+e+r,s=n+o,n=t.indexOf(e,s);while(n!==-1);return i+=t.slice(s),i}function oe(t,e,r,n){let o=0,s="";do{const i=t[n-1]==="\r";s+=t.slice(o,i?n-1:n)+e+(i?`\r
`:`
`)+r,o=n+1,n=t.indexOf(`
`,o)}while(n!==-1);return s+=t.slice(o),s}const{stdout:R,stderr:D}=re,A=Symbol("GENERATOR"),b=Symbol("STYLER"),v=Symbol("IS_EMPTY"),_=["ansi","ansi","ansi256","ansi16m"],m=Object.create(null),se=(t,e={})=>{if(e.level&&!(Number.isInteger(e.level)&&e.level>=0&&e.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");const r=R?R.level:0;t.level=e.level===void 0?r:e.level};class ie{constructor(e){return K(e)}}const K=t=>{const e=(...r)=>r.join(" ");return se(e,t),Object.setPrototypeOf(e,y.prototype),e};function y(t){return K(t)}Object.setPrototypeOf(y.prototype,Function.prototype);for(const[t,e]of Object.entries(g))m[t]={get(){const r=C(this,B(e.open,e.close,this[b]),this[v]);return Object.defineProperty(this,t,{value:r}),r}};m.visible={get(){const t=C(this,this[b],!0);return Object.defineProperty(this,"visible",{value:t}),t}};const x=(t,e,r,...n)=>t==="rgb"?e==="ansi16m"?g[r].ansi16m(...n):e==="ansi256"?g[r].ansi256(g.rgbToAnsi256(...n)):g[r].ansi(g.rgbToAnsi(...n)):t==="hex"?x("rgb",e,r,...g.hexToRgb(...n)):g[r][t](...n),le=["rgb","hex","ansi256"];for(const t of le){m[t]={get(){const{level:r}=this;return function(...n){const o=B(x(t,_[r],"color",...n),g.color.close,this[b]);return C(this,o,this[v])}}};const e="bg"+t[0].toUpperCase()+t.slice(1);m[e]={get(){const{level:r}=this;return function(...n){const o=B(x(t,_[r],"bgColor",...n),g.bgColor.close,this[b]);return C(this,o,this[v])}}}}const ae=Object.defineProperties(()=>{},{...m,level:{enumerable:!0,get(){return this[A].level},set(t){this[A].level=t}}}),B=(t,e,r)=>{let n,o;return r===void 0?(n=t,o=e):(n=r.openAll+t,o=e+r.closeAll),{open:t,close:e,openAll:n,closeAll:o,parent:r}},C=(t,e,r)=>{const n=(...o)=>ce(n,o.length===1?""+o[0]:o.join(" "));return Object.setPrototypeOf(n,ae),n[A]=t,n[b]=e,n[v]=r,n},ce=(t,e)=>{if(t.level<=0||!e)return t[v]?"":e;let r=t[b];if(r===void 0)return e;const{openAll:n,closeAll:o}=r;if(e.includes("\x1B"))for(;r!==void 0;)e=ne(e,r.close,r.open),r=r.parent;const s=e.indexOf(`
`);return s!==-1&&(e=oe(e,o,n,s)),n+e+o};Object.defineProperties(y.prototype,m);y();y({level:D?D.level:0});const P=new ie({level:3});let J="info";const ve={trace:(...t)=>f("trace",void 0,t),debug:(...t)=>f("debug",void 0,t),info:(...t)=>f("info",void 0,t),warn:(...t)=>f("warn",void 0,t),error:(...t)=>f("error",void 0,t),setLevel:z};function q(t){return{trace:(...e)=>f("trace",t,e),debug:(...e)=>f("debug",t,e),info:(...e)=>f("info",t,e),warn:(...e)=>f("warn",t,e),error:(...e)=>f("error",t,e),setLevel:z}}function z(t){t==="trace"||t==="debug"||(J=t)}function f(t,e,r){const n=["trace","debug","info","warn","error"];if(n.indexOf(t)<n.indexOf(J))return;const o=r.reduce((p,S)=>p.endsWith(`
`)?p+S:p?`${p} ${S}`:S,""),s=ue(t),i=t==="warn"?"#000000":"#FFFFFF",l=N(s,i),u=N("#77828D","white"),d=[l];typeof e=="string"&&d.push("",u);let h=U(` ${t.toUpperCase()} `,i,s);e&&(h=`${h} ${U(` ${e} `,"#FFFFFF","77828D")}`),typeof window<"u"?console.log(`%c${t.toUpperCase()}${e?`%c %c${e}`:""}`,...d,o):console.log(`${h}`,o)}function U(t,e,r){return P.bgHex(r)(P.hex(e)(t))}function N(t,e){return`background-color: ${t}; color: white; border: 4px solid ${t}; color: ${e};`}function ue(t){switch(t){case"trace":case"debug":return"#77828D";case"info":return"#1389FD";case"warn":return"#FFDB6C";case"error":return"#EE4744";default:return"#000000"}}const ye=q("Render"),ge=q("LogStore"),G=1e3;class fe{_logs=X({});showLogs=F(!0);constructor(){this._loadLogs()}_loadLogs(){const e=$.get("eventLogs");if(e)try{const r=JSON.parse(e);this._logs.set(r)}catch(r){ge.error("Failed to parse logs from cookies:",r)}}_saveLogs(){const e=this._logs.get();$.set("eventLogs",JSON.stringify(e))}_generateId(){return`${Date.now()}-${Math.random().toString(36).substr(2,9)}`}_trimLogs(){const e=Object.entries(this._logs.get());if(e.length>G){const r=e.sort(([,o],[,s])=>new Date(s.timestamp).getTime()-new Date(o.timestamp).getTime()),n=Object.fromEntries(r.slice(0,G));this._logs.set(n)}}addLog(e,r="info",n="system",o){const s=this._generateId(),i={id:s,timestamp:new Date().toISOString(),level:r,message:e,details:o,category:n};return this._logs.setKey(s,i),this._trimLogs(),this._saveLogs(),s}logSystem(e,r){return this.addLog(e,"info","system",r)}logProvider(e,r){return this.addLog(e,"info","provider",r)}logUserAction(e,r){return this.addLog(e,"info","user",r)}logError(e,r,n){const o={...n||{},error:r instanceof Error?{message:r.message,stack:r.stack}:r};return this.addLog(e,"error","error",o)}logWarning(e,r){return this.addLog(e,"warning","system",r)}logDebug(e,r){return this.addLog(e,"debug","system",r)}clearLogs(){this._logs.set({}),this._saveLogs()}getLogs(){return Object.values(this._logs.get()).sort((e,r)=>new Date(r.timestamp).getTime()-new Date(e.timestamp).getTime())}getFilteredLogs(e,r,n){return this.getLogs().filter(o=>{const s=!e||e==="debug"||o.level===e,i=!r||o.category===r,l=!n||o.message.toLowerCase().includes(n.toLowerCase())||JSON.stringify(o.details).toLowerCase().includes(n.toLowerCase());return s&&i&&l})}}const de=new fe,H="Terretacode_theme",he="light",Y=F(be());function be(){{const t=localStorage.getItem(H),e=document.querySelector("html")?.getAttribute("data-theme");return t??e??he}}function we(){const e=Y.get()==="dark"?"light":"dark";Y.set(e),de.logSystem(`Theme changed to ${e} mode`),localStorage.setItem(H,e),document.querySelector("html")?.setAttribute("data-theme",e)}function Le(t,...e){if(typeof t!="string"){const r=t.reduce((n,o,s)=>(n+=o+(e[s]??""),n),"");return W(r)}return W(t)}function W(t){return t.split(`
`).map(e=>e.trim()).join(`
`).trimStart().replace(/[\r\n]$/,"")}export{F as a,we as b,q as c,ve as d,$ as e,de as l,X as m,ye as r,Le as s,Y as t,pe as u};
